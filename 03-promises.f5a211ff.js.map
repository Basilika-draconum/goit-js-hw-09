{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,UAea,CACXC,mBAAoBC,SAASC,cAAc,SAC3CC,iBAAkBF,SAASC,cAAc,YAEtCF,mBAAmBI,iBAAiB,UAEzC,SAAoCC,GAClCA,EAAEC,iBAEF,IAAMC,EAAkBC,OAAOH,EAAEI,OAAOC,SAASC,MAAMC,OACjDC,EAAiBL,OAAOH,EAAEI,OAAOC,SAASI,KAAKF,OAC/CG,EAAsBP,OAAOH,EAAEI,OAAOC,SAASM,OAAOJ,OAExDK,EAAU,GAEd,SAASC,IACP,KAAID,GAAWF,GAiBb,OAAQE,EAAU,EA9CxB,IAAuBE,EAAUR,EACzBS,GADeD,EA8BHF,EA9BaN,EA8BQ,IAAZM,EAAgBV,EAAkBM,EA7BvDO,EAAgBC,KAAKC,SAAW,GAC/B,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,EACFI,EAAQ,CAAEL,WAAUR,UAEpBc,EAAO,CAAEN,WAAUR,S,GAEpBA,E,KAsBEgB,MAAK,SAAAC,G,IAAGT,EAAQS,EAART,SAAUR,EAAKiB,EAALjB,MACjBkB,EAAA/B,GAASgC,OAAOC,QACd,uBAAwCC,OAAfb,EAAS,QAAYa,OAANrB,EAAM,M,IAGjDsB,OAAM,SAAAL,G,IAAGT,EAAQS,EAART,SAAUR,EAAKiB,EAALjB,MAClBkB,EAAA/B,GAASgC,OAAOI,QACd,sBAAuCF,OAAfb,EAAS,QAAYa,OAANrB,EAAM,M,IAGhDwB,SAAQ,WACPlB,IACAC,G,IAMRA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\nconst refs = {\n  formCreatePromises: document.querySelector('.form'),\n  btnCreatePromise: document.querySelector('button'),\n};\nrefs.formCreatePromises.addEventListener('submit', onFormCreatePromisesSubmit);\n\nfunction onFormCreatePromisesSubmit(e) {\n  e.preventDefault();\n\n  const inputFirstDelay = Number(e.target.elements.delay.value);\n  const inputDelayStep = Number(e.target.elements.step.value);\n  const inputAmountPromises = Number(e.target.elements.amount.value);\n\n  let counter = 1;\n\n  function countPromise() {\n    if (counter <= inputAmountPromises) {\n      createPromise(counter, counter === 1 ? inputFirstDelay : inputDelayStep)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `✅ Fulfilled promise ${position} in ${delay}ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `❌ Rejected promise ${position} in ${delay}ms`\n          );\n        })\n        .finally(() => {\n          counter++;\n          countPromise();\n        });\n    } else {\n      return (counter = 1);\n    }\n  }\n  countPromise();\n}\n\n// setTimeout(() => {\n//   for (let i = 1; i <= inputAmountPromises; i += 1) {\n//     createPromise(i, inputDelayStep)\n//       .then(({ position, delay }) => {\n//         Notiflix.Notify.success(\n//           `✅ Fulfilled promise ${position} in ${delay}ms`\n//         );\n//       })\n//       .catch(({ position, delay }) => {\n//         Notiflix.Notify.failure(\n//           `❌ Rejected promise ${position} in ${delay}ms`\n//         );\n//       });\n//   }\n// }, inputFirstDelay);\n"],"names":["$iU1Pc","parcelRequire","formCreatePromises","document","querySelector","btnCreatePromise","addEventListener","e","preventDefault","inputFirstDelay","Number","target","elements","delay","value","inputDelayStep","step","inputAmountPromises","amount","counter","countPromise","position","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","finally"],"version":3,"file":"03-promises.f5a211ff.js.map"}